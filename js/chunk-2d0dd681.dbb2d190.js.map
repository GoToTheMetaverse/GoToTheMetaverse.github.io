{"version":3,"sources":["webpack:///./src/views/WallEdit.vue","webpack:///./src/views/WallEdit.vue?e31c"],"names":["class","$router","back","wallUid","errorMessage","ref","src","width","frameWidth","height","frameHeight","scrolling","frameborder","data","iframeWin","mounted","this","$refs","myiframe","contentWindow","parseInt","$route","params","window","addEventListener","onMessage","methods","event","undefined","cmd","recv","$store","wait","postMessage","w","h","console","error","render"],"mappings":"4IACOA,MAAM,uB,GAEJA,MAAM,Q,GACNA,MAAM,uB,GACJA,MAAM,gB,GACNA,MAAM,a,gDALf,eAkBM,MAlBN,EAkBM,CAjBJ,eAA2E,UAAnEA,MAAM,wBAAyB,QAAK,+BAAE,EAAAC,QAAQC,UAAQ,QAC9D,eAA8C,MAA9C,EAAkB,YAAS,eAAG,EAAAC,SAAO,GACrC,eAcM,MAdN,EAcM,CAbJ,eAAkD,MAAlD,EAAkD,eAArB,EAAAC,cAAY,GACzC,eAWM,MAXN,EAWM,CAVJ,eASS,UARPJ,MAAM,mCACNK,IAAI,WACJC,IAAI,wBACHC,MAAO,EAAAC,WACPC,OAAQ,EAAAC,YACTC,UAAU,KACVC,YAAY,KACb,aACD,4B,gBAMO,G,UAAA,CACbC,KADa,WAEX,MAAO,CACLC,UAAW,KACXV,aAAc,GACdI,WAAY,OACZE,YAAa,OACbP,QAAS,IAGbY,QAVa,WAWXC,KAAKF,UAAYE,KAAKC,MAAMC,SAASC,cACrCH,KAAKb,QAAUiB,SAASJ,KAAKK,OAAOC,OAAOnB,QAAS,IACpDoB,OAAOC,iBAAiB,UAAWR,KAAKS,YAE1CC,QAAS,CACDD,UADC,SACSE,GAAO,sKACEC,IAAnBD,EAAMd,KAAKgB,IADM,oDAEfC,EAAOH,EAAMd,KAEH,8BAAZiB,EAAKD,IAJY,gCAKb,EAAKE,OAAOC,KAAK,KALJ,OAMnB,EAAKlB,UAAUmB,YACb,CACEJ,IAAK,wBAEP,KAViB,uBAYE,wBAAZC,EAAKD,KACd,EAAKrB,WAAasB,EAAKI,EACvB,EAAKxB,YAAcoB,EAAKK,GAExBC,QAAQC,MAAM,uBAAwBP,EAAKD,KAhBxB,kDCnC3B,EAAOS,OAASA,EAED","file":"js/chunk-2d0dd681.dbb2d190.js","sourcesContent":["<template>\n  <div class=\"bg-white rounded-lg\">\n    <button class=\"border-2 border-black\" @click=\"$router.back()\">BACK</button>\n    <div class=\"flex\">wallUid: {{ wallUid }}</div>\n    <div class=\"flex justify-center\">\n      <div class=\"text-red-600\">{{ errorMessage }}</div>\n      <div class=\"w-96 h-96\">\n        <iframe\n          class=\"md:rounded-xl md:overflow-hidden\"\n          ref=\"myiframe\"\n          src=\"/kbEditWall/main.html\"\n          :width=\"frameWidth\"\n          :height=\"frameHeight\"\n          scrolling=\"no\"\n          frameborder=\"0\"\n        >\n        </iframe>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      iframeWin: null,\n      errorMessage: \"\",\n      frameWidth: \"100%\",\n      frameHeight: \"100%\",\n      wallUid: 0,\n    };\n  },\n  mounted() {\n    this.iframeWin = this.$refs.myiframe.contentWindow;\n    this.wallUid = parseInt(this.$route.params.wallUid, 10);\n    window.addEventListener(\"message\", this.onMessage);\n  },\n  methods: {\n    async onMessage(event) {\n      if (event.data.cmd === undefined) return;\n      const recv = event.data;\n\n      if (recv.cmd == \"kbEditWall.loadingComplete\") {\n        await this.$store.wait(1000);\n        this.iframeWin.postMessage(\n          {\n            cmd: \"kbEditWall.firstData\",\n          },\n          \"*\"\n        );\n      } else if (recv.cmd == \"kbEditWall.frameSize\") {\n        this.frameWidth = recv.w;\n        this.frameHeight = recv.h;\n      } else {\n        console.error(\"EditWall unknown cmd\", recv.cmd);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./WallEdit.vue?vue&type=template&id=0d4c2aed\"\nimport script from \"./WallEdit.vue?vue&type=script&lang=js\"\nexport * from \"./WallEdit.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}