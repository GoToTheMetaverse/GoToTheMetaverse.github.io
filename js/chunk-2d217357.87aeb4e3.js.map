{"version":3,"sources":["webpack:///./src/views/Profile.vue","webpack:///./src/views/Profile.vue?5937"],"names":["class","src","$store","getters","userId","isEditingName","inputEditingName","isNameConfirm","loadingEditName","onEditNameConfirm","onEditNameCancel","userName","onEditName","errorEditName","length","type","inputPasswordOld","inputPasswordNew","inputPasswordAgain","errorChangePassword","onChangePassword","onLogout","data","loadingChangePassword","mounted","this","isLogin","$router","push","computed","methods","commit","reqData","api","loginToken","localStorage","getItem","userUid","newName","callAsync","res","code","message","console","log","oldPass","newPass","render"],"mappings":"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","file":"js/chunk-2d217357.87aeb4e3.js","sourcesContent":["<template>\n  <div class=\"py-2 bg-white rounded-lg\">\n    <div class=\"m-2 text-3xl font-bold\">Profile</div>\n\n    <div class=\"py-4\"></div>\n    <div class=\"tw-row\">\n      <div class=\"tw-col-1\">ID</div>\n      <div class=\"tw-col-2\">\n        {{ $store.getters.userId }}\n      </div>\n    </div>\n    <div class=\"tw-row\">\n      <div class=\"tw-col-1\">이름</div>\n      <div v-if=\"isEditingName\" class=\"tw-col-2 flex items-center\">\n        <input\n          class=\"w-full px-2 rounded-lg border-2 border-black\"\n          v-model=\"inputEditingName\"\n        />\n        <button\n          v-if=\"isNameConfirm && !loadingEditName\"\n          class=\"ml-2\"\n          @click=\"onEditNameConfirm()\"\n        >\n          <img class=\"w-8 h-8\" src=\"images/hero-confirm-outline.svg\" />\n        </button>\n        <button\n          v-if=\"!loadingEditName\"\n          class=\"ml-2\"\n          @click=\"onEditNameCancel()\"\n        >\n          <img class=\"w-8 h-8\" src=\"images/hero-x-outline.svg\" />\n        </button>\n      </div>\n      <div v-else class=\"tw-col-2 flex\">\n        <div>{{ $store.getters.userName }}</div>\n        <div>\n          <button class=\"px-2 mx-2\" @click=\"onEditName()\">\n            <img class=\"w-6 h-6\" src=\"images/hero-edit.svg\" />\n          </button>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"errorEditName.length > 0\" class=\"tw-row\">\n      {{ errorEditName }}\n    </div>\n\n    <div class=\"py-4\"></div>\n    <div class=\"text-xl font-bold\">암호 변경</div>\n    <div class=\"tw-row\">\n      <div class=\"tw-col-1\">현재 암호</div>\n      <div class=\"tw-col-2\">\n        <input\n          class=\"w-full px-2 rounded-lg border-2 border-black\"\n          type=\"password\"\n          v-model=\"inputPasswordOld\"\n        />\n      </div>\n    </div>\n    <div class=\"tw-row\">\n      <div class=\"tw-col-1\">새 암호</div>\n      <div class=\"tw-col-2\">\n        <input\n          class=\"w-full px-2 rounded-lg border-2 border-black\"\n          type=\"password\"\n          v-model=\"inputPasswordNew\"\n        />\n      </div>\n    </div>\n    <div class=\"tw-row\">\n      <div class=\"tw-col-1\">새 암호 확인</div>\n      <div class=\"tw-col-2\">\n        <input\n          class=\"w-full px-2 rounded-lg border-2 border-black\"\n          type=\"password\"\n          v-model=\"inputPasswordAgain\"\n        />\n      </div>\n    </div>\n    <div v-if=\"errorChangePassword.length > 0\" class=\"tw-row text-red-600\">\n      {{ errorChangePassword }}\n    </div>\n    <div class=\"flex justify-center text-xl p-1\">\n      <button class=\"tw-yello-btn\" @click=\"onChangePassword()\">암호변경</button>\n    </div>\n\n    <div class=\"py-4\"></div>\n    <div>\n      <button class=\"tw-red-btn\" @click=\"onLogout()\">로그아웃</button>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      isEditingName: false,\n      inputEditingName: \"\",\n      loadingEditName: false,\n      errorEditName: \"\",\n      // 암호\n      inputPasswordOld: \"\",\n      inputPasswordNew: \"\",\n      inputPasswordAgain: \"\",\n      loadingChangePassword: false,\n      errorChangePassword: \"\",\n    };\n  },\n  mounted() {\n    if (!this.$store.getters.isLogin) {\n      this.$router.push(\"/login\");\n    }\n  },\n  computed: {\n    isNameConfirm() {\n      if (this.inputEditingName.length < 2) return false;\n      if (this.inputEditingName == this.$store.getters.userName) return false;\n      return true;\n    },\n  },\n  methods: {\n    onLogout() {\n      this.$store.commit(\"clear\", {});\n      this.$router.push(\"/\");\n    },\n    onEditName() {\n      this.isEditingName = !this.isEditingName;\n      this.inputEditingName = this.$store.getters.userName;\n    },\n    async onEditNameConfirm() {\n      if (this.loadingEditName) {\n        this.errorEditName = \"처리중입니다.\";\n        return;\n      }\n\n      const reqData = {\n        api: \"updateProfileName\",\n        loginToken: localStorage.getItem(\"loginToken\"),\n        userUid: this.$store.getters.userUid,\n        newName: this.inputEditingName,\n      };\n\n      this.errorEditName = \"\";\n      this.loadingEditName = true;\n      const res = await this.$store.callAsync(reqData);\n      this.loadingEditName = false;\n\n      if (res.code != 100) {\n        this.errorEditName = res.message;\n        return;\n      }\n\n      this.$store.commit(\"setUserName\", res.newName);\n\n      this.isEditingName = !this.isEditingName;\n    },\n    onEditNameCancel() {\n      this.isEditingName = !this.isEditingName;\n    },\n    async onChangePassword() {\n      if (this.loadingChangePassword) {\n        this.errorEditName = \"처리중입니다.\";\n        return;\n      }\n\n      console.log(\"a\", this.inputPasswordNew);\n      if (this.inputPasswordNew.length < 4) {\n        this.errorChangePassword = \"암호길이가 짧습니다.\";\n        return;\n      }\n\n      if (this.inputPasswordNew != this.inputPasswordAgain) {\n        this.inputPasswordAgain = \"\";\n        this.errorChangePassword = \"새 암호를 확인해주세요.\";\n        return;\n      }\n\n      if (this.inputPasswordNew == this.inputPasswordOld) {\n        this.inputPasswordNew = \"\";\n        this.inputPasswordAgain = \"\";\n        this.errorChangePassword = \"기존 암호와 달라야합니다.\";\n        return;\n      }\n\n      const reqData = {\n        api: \"updateProfilePassword\",\n        loginToken: localStorage.getItem(\"loginToken\"),\n        userUid: this.$store.getters.userUid,\n        oldPass: this.inputPasswordOld,\n        newPass: this.inputPasswordNew,\n      };\n\n      this.inputPasswordOld = \"\";\n      this.inputPasswordNew = \"\";\n      this.inputPasswordAgain = \"\";\n      this.errorChangePassword = \"\";\n      this.loadingChangePassword = true;\n      const res = await this.$store.callAsync(reqData);\n      this.loadingChangePassword = false;\n\n      if (res.code != 100) {\n        this.errorChangePassword = res.message;\n        return;\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Profile.vue?vue&type=template&id=eff45752\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}