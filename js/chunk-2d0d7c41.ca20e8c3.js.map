{"version":3,"sources":["webpack:///./src/views/PicHome.vue","webpack:///./src/views/PicHome.vue?7730"],"names":["class","$store","getters","isLogin","loadingPicture","state","listPicture","data","key","uid","name","onEdit","onDelete","inputPictureName","onAdd","errorMessage","loading","loadingAddName","loadingDelete","mounted","console","log","reqData","api","loginToken","localStorage","getItem","userUid","callAsync","res","code","message","commit","methods","inputName","newPicture","picUid","pic","i","length","$router","push","render"],"mappings":"sJACOA,MAAM,Q,YAEP,eAAsB,WAAjB,eAAW,G,EAChB,eAAqC,WAAhC,8BAA0B,G,EAC/B,eAA4C,WAAvC,qCAAiC,G,EACtC,eAGM,Y,eAHD,2BACmB,eAAM,M,eAAA,+C,2NAmBvBA,MAAM,kB,GACNA,MAAM,kB,GAcRA,MAAM,+B,EACT,eAA0B,OAArBA,MAAM,OAAM,OAAG,G,GAOnBA,MAAM,gB,gDAhDb,eAmDM,MAnDN,EAmDM,CAlDQ,EAAAC,OAAOC,QAAQC,Q,wCAA3B,eAQM,SAPJ,EACA,EACA,EACA,KAMS,EAAAC,gB,iBAAX,eAoCM,SAnCJ,G,mBAQA,eAmBM,2BAlBW,EAAAH,OAAOI,MAAMC,aAAW,SAAhCC,G,wBADT,eAmBM,OAjBHC,IAAKD,EAAKE,IACXT,MAAM,4B,CAEN,eAAgD,MAAhD,EAAgD,eAAjBO,EAAKE,KAAG,GACvC,eAAiD,MAAjD,EAAiD,eAAlBF,EAAKG,MAAI,GACxC,eAKS,UAJPV,MAAM,0CACL,QAAK,mBAAE,EAAAW,OAAOJ,EAAKE,OACrB,OAED,eACA,eAKS,UAJPT,MAAM,uCACL,QAAK,mBAAE,EAAAY,SAASL,EAAKE,OACvB,MAED,oB,MAEF,eAMM,MANN,EAMM,CALJ,E,eACA,eAAsE,S,qDAAtD,EAAAI,iBAAgB,IAAEb,MAAM,6B,mBAAxB,EAAAa,oBAChB,eAES,UAFDb,MAAM,qCAAsC,QAAK,+BAAE,EAAAc,WAAS,a,sBAKxE,eAEM,MAFN,EAEM,eADD,EAAAC,cAAY,K,gBAMN,G,UAAA,CACbL,KAAM,OACNH,KAFa,WAGX,MAAO,CACLS,SAAS,EACTD,aAAc,GACdX,gBAAgB,EAChBS,iBAAkB,GAClBI,gBAAgB,EAChBC,eAAe,IAGbC,QAZO,WAYG,mKACdC,QAAQC,IAAI,gBAE0B,OAAlC,EAAKpB,OAAOI,MAAMC,YAHR,wBAKNgB,EAAU,CACdC,IAAK,iBACLC,WAAYC,aAAaC,QAAQ,cACjCC,QAAS,EAAK1B,OAAOC,QAAQyB,SAI/B,EAAKX,SAAU,EAZH,SAaM,EAAKf,OAAO2B,UAAUN,GAb5B,UAaNO,EAbM,OAcZ,EAAKb,SAAU,EAEC,KAAZa,EAAIC,KAhBI,wBAiBVV,QAAQC,IAAI,sBAAuBQ,GACnC,EAAKd,aAAec,EAAIE,QAlBd,2BAsBZX,QAAQC,IAAI,oBAAqBC,EAASO,GAC1C,EAAK5B,OAAO+B,OAAO,iBAAkBH,EAAIvB,aACzC,EAAKF,gBAAiB,EAxBV,wBA0BZ,EAAKA,gBAAiB,EA1BV,+CA6BhB6B,QAAS,CACDnB,MADC,WACO,oKACR,EAAKG,eADG,wDAKNK,EAAU,CACdC,IAAK,aACLC,WAAYC,aAAaC,QAAQ,cACjCC,QAAS,EAAK1B,OAAOC,QAAQyB,QAC7BO,UAAW,EAAKrB,kBAGlB,EAAKI,gBAAiB,EAZV,SAaM,EAAKhB,OAAO2B,UAAUN,GAb5B,UAaNO,EAbM,OAcZ,EAAKZ,gBAAiB,EAEN,KAAZY,EAAIC,KAhBI,wBAiBV,EAAKf,aAAec,EAAIE,QAjBd,2BAqBZ,EAAK9B,OAAO+B,OAAO,aAAcH,EAAIM,YACrC,EAAKtB,iBAAmB,GAtBZ,+CAwBRF,OAzBC,SAyBMyB,GAAQ,kKACnBhB,QAAQC,IAAI,SAAUe,GAElBC,EAAM,KACDC,EAAI,EAJM,YAIHA,EAAI,EAAKrC,OAAOI,MAAMC,YAAYiC,QAJ/B,oBAKXhC,EAAO,EAAKN,OAAOI,MAAMC,YAAYgC,GACvC/B,EAAKE,MAAQ2B,EANA,qDASjBC,EAAM9B,EATW,OAIuC+B,IAJvC,0BAYP,OAARD,EAZe,wBAajBjB,QAAQC,IAAI,gBAAiBe,GAbZ,2BAgBnB,EAAKI,QAAQC,KAAb,oBAA+BJ,EAAI5B,MAhBhB,+CAkBfG,SA3CC,SA2CQwB,GAAQ,uKACrBhB,QAAQC,IAAI,WAAYe,GAElBd,EAAU,CACdC,IAAK,aACLC,WAAYC,aAAaC,QAAQ,cACjCC,QAAS,EAAK1B,OAAOC,QAAQyB,QAC7BS,OAAQA,GAGVhB,QAAQC,IAAI,iBAAkBC,GAE9B,EAAKL,gBAAiB,EAZD,SAaH,EAAKhB,OAAO2B,UAAUN,GAbnB,UAafO,EAbe,OAcrB,EAAKZ,gBAAiB,EAEtBG,QAAQC,IAAI,iBAAkBQ,GAEd,KAAZA,EAAIC,KAlBa,wBAmBnB,EAAKf,aAAec,EAAIE,QAnBL,2BAuBrB,EAAK9B,OAAO+B,OAAO,aAAcI,GACjC,EAAKvB,iBAAmB,GAxBH,kDCzI3B,EAAO6B,OAASA,EAED","file":"js/chunk-2d0d7c41.ca20e8c3.js","sourcesContent":["<template>\n  <div class=\"home\">\n    <div v-if=\"!$store.getters.isLogin\">\n      <div>타일을 만들 수 있고</div>\n      <div>(제작중) 내 그림에 타일을 불일 수 있습니다.</div>\n      <div>(제작중) 내 그림에 다른 유저의 타일도 붙일 수 있습니다.</div>\n      <div>\n        현재는 guest 계정을 이용중입니다. <br />\n        데이터가 삭제되거나 변경될 수 있으니 저장이 필요하시면 가입을 해주세요\n      </div>\n    </div>\n\n    <div v-if=\"loadingPicture\">\n      <div class=\"py-2\">내가 찍은 도트</div>\n\n      <div class=\"flex justify-between p-1\">\n        <div class=\"w-16\">번호</div>\n        <div class=\"w-48\">이름</div>\n        <div class=\"w-16\">기능</div>\n        <div class=\"w-10\">삭제</div>\n      </div>\n      <div\n        v-for=\"data in $store.state.listPicture\"\n        :key=\"data.uid\"\n        class=\"flex justify-between p-1\"\n      >\n        <div class=\"w-16 px-2 py-1\">{{ data.uid }}</div>\n        <div class=\"w-48 px-2 py-1\">{{ data.name }}</div>\n        <button\n          class=\"w-16 px-2 py-1 bg-indigo-600 text-white\"\n          @click=\"onEdit(data.uid)\"\n        >\n          수정\n        </button>\n        <button\n          class=\"w-10 px-2 py-1 bg-red-600 text-white\"\n          @click=\"onDelete(data.uid)\"\n        >\n          X\n        </button>\n      </div>\n      <div class=\"flex justify-center p-1 m-1\">\n        <div class=\"p-1\">이름:</div>\n        <input v-model=\"inputPictureName\" class=\"p-1 border-2 border-black\" />\n        <button class=\"px-2 py-1 bg-indigo-600 text-white\" @click=\"onAdd()\">\n          추가\n        </button>\n      </div>\n    </div>\n    <div class=\"text-red-600\">\n      {{ errorMessage }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      loading: false,\n      errorMessage: \"\",\n      loadingPicture: false, // true : 로그되었다.\n      inputPictureName: \"\",\n      loadingAddName: false,\n      loadingDelete: false,\n    };\n  },\n  async mounted() {\n    console.log(\"Home mounted\");\n\n    if (this.$store.state.listPicture === null) {\n      // 리스트가 없으면 불러온다.\n      const reqData = {\n        api: \"getPictureList\",\n        loginToken: localStorage.getItem(\"loginToken\"),\n        userUid: this.$store.getters.userUid,\n      };\n      // console.log(\"getPictureList req\", reqData);\n\n      this.loading = true;\n      const res = await this.$store.callAsync(reqData);\n      this.loading = false;\n\n      if (res.code != 100) {\n        console.log(\"getPictureList fail\", res);\n        this.errorMessage = res.message;\n        return;\n      }\n\n      console.log(\"getPictureList ok\", reqData, res);\n      this.$store.commit(\"setListPicture\", res.listPicture);\n      this.loadingPicture = true;\n    } else {\n      this.loadingPicture = true;\n    }\n  },\n  methods: {\n    async onAdd() {\n      if (this.loadingAddName) {\n        return;\n      }\n\n      const reqData = {\n        api: \"addPicture\",\n        loginToken: localStorage.getItem(\"loginToken\"),\n        userUid: this.$store.getters.userUid,\n        inputName: this.inputPictureName,\n      };\n\n      this.loadingAddName = true;\n      const res = await this.$store.callAsync(reqData);\n      this.loadingAddName = false;\n\n      if (res.code != 100) {\n        this.errorMessage = res.message;\n        return;\n      }\n\n      this.$store.commit(\"addPicture\", res.newPicture);\n      this.inputPictureName = \"\";\n    },\n    async onEdit(picUid) {\n      console.log(\"onEdit\", picUid);\n\n      let pic = null;\n      for (let i = 0; i < this.$store.state.listPicture.length; i++) {\n        const data = this.$store.state.listPicture[i];\n        if (data.uid !== picUid) {\n          continue;\n        }\n        pic = data;\n      }\n\n      if (pic === null) {\n        console.log(\"not found pic\", picUid);\n        return;\n      }\n      this.$router.push(`/pic/edit/${pic.uid}`);\n    },\n    async onDelete(picUid) {\n      console.log(\"onDelete\", picUid);\n\n      const reqData = {\n        api: \"delPicture\",\n        loginToken: localStorage.getItem(\"loginToken\"),\n        userUid: this.$store.getters.userUid,\n        picUid: picUid,\n      };\n\n      console.log(\"delPicture req\", reqData);\n\n      this.loadingAddName = true;\n      const res = await this.$store.callAsync(reqData);\n      this.loadingAddName = false;\n\n      console.log(\"delPicture res\", res);\n\n      if (res.code != 100) {\n        this.errorMessage = res.message;\n        return;\n      }\n\n      this.$store.commit(\"delPicture\", picUid);\n      this.inputPictureName = \"\";\n    },\n  },\n};\n</script>\n","import { render } from \"./PicHome.vue?vue&type=template&id=1eadaad0\"\nimport script from \"./PicHome.vue?vue&type=script&lang=js\"\nexport * from \"./PicHome.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}