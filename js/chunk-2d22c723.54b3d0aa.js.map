{"version":3,"sources":["webpack:///./src/views/WallHome.vue","webpack:///./src/views/WallHome.vue?5653"],"names":["class","src","loading","$store","state","listWall","data","key","rid","onEdit","makePicUrl","wall_url","wall_name","is_send","getAgo","last_edit","onDelete","inputAddName","onAdd","errorAddName","loadingDelete","mounted","reqData","api","loginToken","localStorage","getItem","userUid","getters","callAsync","res","code","console","log","errorMessage","message","methods","loadingAddName","inputName","commit","newWall","this","$router","push","wallRid","delWallRid","render"],"mappings":"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","file":"js/chunk-2d22c723.54b3d0aa.js","sourcesContent":["<template>\n  <div>\n    <div class=\"bg-white tw-rounded mb-2 py-2\">\n      <div class=\"text-2xl font-bold\">벽</div>\n      <div class=\"pt-2\">벽은 타일을 조합해서 만듭니다.</div>\n    </div>\n\n    <div v-if=\"loading\">LOADING</div>\n    <div v-else>\n      <div class=\"mb-2 grid gap-2 md:grid-cols-3 grid-cols-2\">\n        <div\n          class=\"tw-rounded bg-white overflow-hidden\"\n          v-for=\"data in $store.state.listWall\"\n          :key=\"data.rid\"\n        >\n          <button class=\"\" @click=\"onEdit(data.rid)\">\n            <img\n              class=\"h-64 object-cover\"\n              :src=\"$store.makePicUrl(data.wall_url)\"\n            />\n          </button>\n          <div class=\"px-2 py-1 space-y-1\">\n            <div class=\"flex flex-wrap space-x-3 items-center\">\n              <div class=\"font-bold\">{{ data.wall_name }}</div>\n              <img\n                v-if=\"data.is_send\"\n                class=\"w-6 h-6\"\n                src=\"/images/hero-gift.svg\"\n              />\n            </div>\n            <div class=\"flex\">\n              <div class=\"ml-2 tw-ago\">\n                {{ $store.getAgo(data.last_edit) }}\n              </div>\n            </div>\n            <div class=\"flex justify-end\">\n              <button @click=\"onDelete(data.rid)\">\n                <img class=\"w-6 h-6\" src=\"/images/hero-trash.svg\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"p-2 tw-rounded bg-white\">\n      <div class=\"flex justify-center items-center\">\n        <div class=\"p-1\">새 벽 이름</div>\n        <input\n          v-model=\"inputAddName\"\n          class=\"ml-4 p-1 rounded-lg border-2 border-black\"\n        />\n        <button\n          class=\"ml-4 px-4 py-1 rounded-lg bg-indigo-600 text-white\"\n          @click=\"onAdd()\"\n        >\n          추가\n        </button>\n      </div>\n      <div class=\"text-red-600\">{{ errorAddName }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loading: false,\n      inputAddName: \"\",\n      errorAddName: \"\",\n      loadingDelete: false,\n    };\n  },\n  async mounted() {\n    if (this.$store.state.listWall === null) {\n      // 리스트가 없으면 불러온다.\n      const reqData = {\n        api: \"getWallList\",\n        loginToken: localStorage.getItem(\"loginToken\"),\n        userUid: this.$store.getters.userUid,\n      };\n\n      this.loading = true;\n      const res = await this.$store.callAsync(reqData);\n      this.loading = false;\n\n      if (res.code != 100) {\n        console.log(\"getWallList fail\", res);\n        this.errorMessage = res.message;\n        return;\n      }\n\n      console.log(\"getWallList ok\", res);\n      // this.$store.commit(\"setListWall\", res.listWall);\n    }\n  },\n  methods: {\n    async onAdd() {\n      if (this.loadingAddName) {\n        return;\n      }\n\n      const reqData = {\n        api: \"addWall\",\n        loginToken: localStorage.getItem(\"loginToken\"),\n        userUid: this.$store.getters.userUid,\n        inputName: this.inputAddName,\n      };\n\n      this.errorAddName = \"\";\n      this.loadingAddName = true;\n      const res = await this.$store.callAsync(reqData);\n      this.loadingAddName = false;\n\n      console.log(\"addWall res\", res);\n      if (res.code != 100) {\n        this.errorAddName = res.message;\n        return;\n      }\n\n      this.$store.commit(\"addWall\", res.newWall);\n      this.errorAddName = \"\";\n    },\n    onEdit(rid) {\n      console.log(\"onEdit\", rid);\n      this.$router.push(`/wall/edit/${rid}`);\n    },\n    async onDelete(rid) {\n      if (this.loadingDelete) {\n        return;\n      }\n\n      console.log(\"onDelete\", rid);\n\n      const reqData = {\n        api: \"delWall\",\n        loginToken: localStorage.getItem(\"loginToken\"),\n        userUid: this.$store.getters.userUid,\n        wallRid: rid,\n      };\n\n      this.loadingDelete = true;\n      const res = await this.$store.callAsync(reqData);\n      this.loadingDelete = false;\n\n      if (res.code != 100) {\n        console.log(\"delWall fail\", res);\n        this.errorMessage = res.message;\n        return;\n      }\n\n      this.$store.commit(\"delWall\", res.delWallRid);\n    },\n  },\n};\n</script>\n","import { render } from \"./WallHome.vue?vue&type=template&id=59502596\"\nimport script from \"./WallHome.vue?vue&type=script&lang=js\"\nexport * from \"./WallHome.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}